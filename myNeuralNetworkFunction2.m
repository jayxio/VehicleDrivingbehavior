function [y1] = myNeuralNetworkFunction2(x1)
%MYNEURALNETWORKFUNCTION neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 02-Jun-2016 10:59:26.
% 
% [y1] = myNeuralNetworkFunction(x1) takes these arguments:
%   x = 10xQ matrix, input #1
% and returns:
%   y = 1xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

  % ===== NEURAL NETWORK CONSTANTS =====
  
  % Input 1
  x1_step1_xoffset = [0.00593467191392467;0.000219935584926788;0.146947911506492;0.00154415394827628;0.135618990757729;0.0171002007401533;-0.105633334233886;1.56829602972379e-05;57640;0];
  x1_step1_gain = [2.09895437027868;102.817259893719;0.386912898717156;3.20563721258959;0.0842206419191726;0.141021984525803;6.91938604311401;19.8817947272722;3.02291338113769e-07;0.00576368876080692];
  x1_step1_ymin = -1;
  
  % Layer 1
  b1 = [1.8662643684769402;-1.5778907113658511;-1.278586149649122;-0.30683574367414151;-1.0035423886315431;-0.64892170653109427;-0.79871122941564821;0.010224486452800552;0.16593004940552683;1.0521912833608782;-0.74196231206001362;-1.8565089045469896;-1.3711169165702157;-0.9083540721337523];
  IW1_1 = [-0.89984906836852652 0.5893562538858298 0.49483250861831368 0.36521984470307639 -0.48365474539795489 -0.87186561321972356 0.17771279441208582 -0.11417683335090779 -0.47514478822110523 -0.7269261929081865;0.80615778481419853 0.37063977323412106 -0.52729942289334886 0.74346728752990021 0.2874399548973316 0.10582175196071214 -0.50514455717901019 -0.70561955765353457 -0.71036372860243324 -0.64679355407328165;0.7751143525303873 -0.33542436697562944 0.35818029639339538 0.85287371924124611 -0.033343244010615204 0.53052831439816628 0.30166463946493199 0.82855876208030921 -0.64637980805610751 -0.47406938162564366;-0.23782305132501552 1.5413043103122488 0.29231789652751444 0.35457030274965251 0.20802646030876568 1.0905820222654032 0.31092782995604401 -1.4457795374349387 2.1193340092964821 1.0940257336204409;0.92208237502040058 0.88197899516791389 -2.3176782342587012 -1.8814706993650414 0.10226776786373355 -1.259572846204474 0.54760476605122987 0.70653789468467898 2.8180205581626239 -3.5994518321817579;0.58185526206067162 0.016604493031207469 -0.88594868863294618 -0.7088338115324635 0.22957968840765683 0.24615082718311007 -0.048268912489346553 0.79362024270424991 0.2100720613358783 0.97947930902119162;0.52059057163321676 -0.35948907283432224 -0.29906750985989916 -0.41099330978601434 -0.36418396565128264 -0.15671248378423183 -0.84323932018121073 1.527291599311617 -1.8064587763835409 1.151032025353117;0.3901515815315284 0.87794425227222761 0.54418439200428181 0.7604516090313953 0.64556208147992999 -0.81600242650112642 -0.43900850174364581 -0.57167175866368025 0.54268993081076711 0.17149392288812335;-1.3231777940266813 0.39376775454602075 0.13691272652072509 -0.52383053548013248 -0.061964626670646492 -0.14617015954123788 0.94671784248462088 -0.66207358234504177 0.54639115640160252 0.38326150436374812;0.17371628762622687 -0.69438890817204357 0.32714733478697133 0.69483642782964672 0.53101672386773324 -0.88699676367773561 -0.79790036738452108 -0.83198931134259291 -0.17903338544404773 -0.46879676911095064;-1.1512703270593041 -0.077843505049377329 -0.32799170012224849 -0.39802616985261019 0.57432494818626767 0.60126000286927839 0.62144723977920258 0.39017735081861288 0.060606654830676336 0.95464293497452257;-0.48653528412358182 0.81993171043115753 0.55585935710801093 2.0505274251549093 -1.7571351307008314 -1.4584605595339108 0.38904376370559046 -0.2095407825585209 -2.7247074836056848 -0.27848076293781154;-0.63936390770141205 0.93228275110724779 -1.1577496723887264 -0.56822101493590094 -0.45253785796062668 -0.51876477417165379 0.84202540761641131 0.72349592522943063 -0.68240334036343486 -1.5103589642118023;-1.4812428882249018 -0.21519128349755776 0.65962708073158371 -0.68577010001655125 -0.69014651782125869 -0.75493003045127238 -0.85552808911409406 -1.2523425071492618 -0.20610433953436044 0.46040460613816669];
  
  % Layer 2
  b2 = -0.92888493732272559;
  LW2_1 = [-1.1277612595554634 0.10157607348411837 0.53677378624094629 -2.4535305214989118 -4.7360501653042117 1.4691126866654503 1.7082793408533716 -0.79723005158478866 -0.86014773105237152 -1.3054989085316198 -0.31323949932130885 3.7824697857627116 -1.1562662879938435 -0.52784636886723435];
  
  % ===== SIMULATION ========
  
  % Dimensions
  Q = size(x1,2); % samples
  
  % Input 1
  xp1 = mapminmax_apply(x1,x1_step1_gain,x1_step1_xoffset,x1_step1_ymin);
  
  % Layer 1
  a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);
  
  % Layer 2
  a2 = logsig_apply(repmat(b2,1,Q) + LW2_1*a1);
  
  % Output 1
  y1 = a2;
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings_gain,settings_xoffset,settings_ymin)
  y = bsxfun(@minus,x,settings_xoffset);
  y = bsxfun(@times,y,settings_gain);
  y = bsxfun(@plus,y,settings_ymin);
end

% Sigmoid Positive Transfer Function
function a = logsig_apply(n)
  a = 1 ./ (1 + exp(-n));
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end
